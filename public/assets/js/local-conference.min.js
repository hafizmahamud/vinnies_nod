"use strict";!function(e){e(document).ready(function(){if(e(".js-table").length&&initDatatable({table:".js-table",filter:".js-table-filter",search:{form:".js-table-search-form",input:".js-table-search-input"},pagination:{basic:".pagination-basic",table:".pagination-table"},columns:[{data:"id",className:"text-center",render:function(e,a,n){return'<a href="/local-conferences/edit/'+e+'">'+e+"</a>"}},{data:"name",className:"text-center"},{data:"parish",className:"text-center"},{data:"status",className:"text-center"},{data:"state_council",className:"text-center"},{data:"diocesan_council_id",className:"text-center"},{data:"regional_council",className:"text-center"}]}),e('[name="state_council"]').on("change",function(a){a.preventDefault();var n=e(this).val(),t=e('[name="diocesan_council_id"]');console.log(n),t.find("option").prop("selected",!1),t.find("optgroup").css("display","none"),t.find('optgroup[label="'+n.toUpperCase()+'"]').find("option").prop("disabled",!1),t.find('optgroup[label="'+n.toUpperCase()+'"]').css("display","inline")}),window.location.pathname.split("/").includes("edit")){var a=e('[name="state_council"]').val(),n=e('[name="diocesan_council_id"]').val(),t=e('[name="diocesan_council_id"]');a.includes("national")?(t.find("option").prop("disabled",!1),t.find("option").prop("selected",!1),t.find("optgroup").css("display","inline")):(t.find("option").prop("selected",!1),t.find("optgroup").css("display","none"),t.find('optgroup[label="'+a.toUpperCase()+'"]').find("option").prop("disabled",!1),t.find('optgroup[label="'+a.toUpperCase()+'"]').find('option[value="'+n+'"]').prop("selected",!0),t.find('optgroup[label="'+a.toUpperCase()+'"]').css("display","inline"))}e(".form-edit-local-conf").length&&(e(".form-edit-local-conf").dirty(),has_invalid_diocesan_council&&e("#diocesan_council_id").find('option[value="'+invalid_diocesan_council_id+'"]').prop("disabled",!0),e(".js-btn-add-twinning").on("click",function(a){var n=e(this);e(".form-edit-local-conf").dirty("isDirty")&&(a.preventDefault(),bootbox.dialog({message:"You might have unsaved changes for the Australian Conference you are trying to add a twin. Would you like to save the changes, discard changes or Cancel and take time to review the modifications?",buttons:{cancel:{label:"Cancel and Review",className:"btn-warning",callback:function(){}},discard:{label:"Discard Changes",className:"btn-danger",callback:function(){window.location=n.attr("href")}},save:{label:"Save Changes",className:"btn-primary",callback:function(){return e('[data-bb-handler="save"]').text("Saving..."),e(".js-form").ajaxSubmit(function(){e('[data-bb-handler="save"]').text("Redirecting..."),window.location=n.attr("href")}),e('[data-bb-handler="save"]').text("Save Changes"),!1}}}}))})),e(document).on("click",".js-btn-export-local-conf",function(a){a.preventDefault();var n={filters:{state:e('[name="state"]').find("option:selected").val(),diocesan_council_id:e('[name="diocesan_council_id"]').find("option:selected").val(),status:e('[name="status"]').find("option:selected").val(),is_flagged:e('[name="is_flagged"]').find("option:selected").val(),regional_council:e('[name="regional_council"]').val(),state_council:e('[name="state_council"]').find("option:selected").val()},search:{value:e(".js-table-search-input").val()}};window.location=localconf_export_url+"?"+e.param(n)})})}(jQuery);
//# sourceMappingURL=local-conference.min.js.map
